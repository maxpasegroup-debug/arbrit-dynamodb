================================================================================
  ğŸš€ EC2 Import to DynamoDB - Quick Reference
================================================================================

STEP 1: LAUNCH EC2 INSTANCE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to: https://console.aws.amazon.com/ec2/
2. Click "Launch Instance"
3. Settings:
   - Name: arbrit-dynamodb-import
   - AMI: Amazon Linux 2023
   - Type: t2.micro (free tier)
   - Key pair: Create new or select existing
4. Click "Launch"

STEP 2: ATTACH IAM ROLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Select your EC2 instance
2. Actions â†’ Security â†’ Modify IAM role
3. Create new role if needed:
   - Service: EC2
   - Policy: AmazonDynamoDBFullAccess
   - Name: EC2-DynamoDB-Import-Role
4. Select role â†’ Update

STEP 3: UPLOAD FILES AND RUN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Replace YOUR-KEY.pem and YOUR-EC2-IP with your actual values!

# Upload files from your Mac:
scp -i ~/Downloads/YOUR-KEY.pem -r \
  /Users/sms01/Downloads/arbrit-safety-export/Json/ \
  ec2-user@YOUR-EC2-IP:~/Json/

scp -i ~/Downloads/YOUR-KEY.pem \
  /Users/sms01/Downloads/arbrit-safety-export/scripts/ec2-import-dynamodb.sh \
  ec2-user@YOUR-EC2-IP:~/

# SSH into EC2:
ssh -i ~/Downloads/YOUR-KEY.pem ec2-user@YOUR-EC2-IP

# Run import:
chmod +x ~/ec2-import-dynamodb.sh
./ec2-import-dynamodb.sh

# Wait for completion (5-15 minutes)

STEP 4: VERIFY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# On EC2, verify tables created:
aws dynamodb list-tables --region us-east-1

# Count items:
aws dynamodb scan --table-name arbrit-users --select COUNT --region us-east-1

# Or check in browser:
https://console.aws.amazon.com/dynamodb/

STEP 5: CLEANUP (Optional)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Terminate EC2 instance to avoid charges:
1. Go to EC2 Console
2. Select instance
3. Instance state â†’ Terminate instance

================================================================================
  ğŸ“ NOTES
================================================================================

â€¢ IAM role is more secure than using access keys
â€¢ t2.micro is free tier eligible (750 hours/month free)
â€¢ Import typically takes 5-15 minutes depending on data size
â€¢ Script automatically installs all dependencies
â€¢ Script automatically creates all 23 DynamoDB tables
â€¢ Cost: ~$0.01 for import + ~$0.12 for EC2 (if not using free tier)

================================================================================
  ğŸ†˜ TROUBLESHOOTING
================================================================================

Connection refused?
  â†’ Check security group allows SSH (port 22)
  â†’ Verify public IP is correct

No AWS credentials?
  â†’ Attach IAM role to EC2 instance
  â†’ Or: export AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY

No JSON files found?
  â†’ Verify upload: ls -lh ~/Json/
  â†’ Re-upload files if needed

Access denied (DynamoDB)?
  â†’ Add AmazonDynamoDBFullAccess policy to IAM role

================================================================================
  ğŸ“š FULL GUIDE
================================================================================

For detailed step-by-step instructions, see:
  EC2_IMPORT_GUIDE.md

================================================================================
  âœ… EXPECTED RESULT
================================================================================

After running the script, you should see:

âœ… 23 DynamoDB tables created (arbrit-*)
âœ… 14 collections imported with data
âœ… 9 empty tables created (for future use)
âœ… Total import time: 5-15 minutes
âœ… All data viewable in AWS DynamoDB Console

================================================================================
  ğŸ¯ QUICK COPY-PASTE
================================================================================

# Replace YOUR-KEY.pem and YOUR-EC2-IP first!

# Local machine - upload files:
cd /Users/sms01/Downloads/arbrit-safety-export
scp -i ~/Downloads/YOUR-KEY.pem -r Json/ ec2-user@YOUR-EC2-IP:~/Json/
scp -i ~/Downloads/YOUR-KEY.pem scripts/ec2-import-dynamodb.sh ec2-user@YOUR-EC2-IP:~/

# SSH and run:
ssh -i ~/Downloads/YOUR-KEY.pem ec2-user@YOUR-EC2-IP
chmod +x ~/ec2-import-dynamodb.sh
./ec2-import-dynamodb.sh

================================================================================


